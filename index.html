<!DOCTYPE html>
<html id="html" class="is-clipped">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Evaluation | Hone Capital</title>
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="static/style.css">
    </head>
    <body>
        <!--Vanishing Animation Page-->
        <div id="animation" class="is-full-width is-full-height is-upfront">
            <div class="is-vertically-centered is-horizontally-centered">
                <img src="http://honecap.com/wp-content/uploads/2017/03/HONE-LOGO.svg" alt="hone cap logo" style="width: 200px;height: 49px;">
            </div>
        </div>
        </div>
        <!--Navbar Section-->
        <nav id="navbar" class="navbar has-depth">
            <div class="navbar-brand">
                <a href="#" class="navbar-item">
                    <img src="http://honecap.com/wp-content/uploads/2017/03/HONE-LOGO.svg" alt="hone cap logo" style="width: 200px;height: 49px;">
                </a>
            </div>
            <div id="navbar-menu" class="navbar-menu">
                <div class="navbar-end">
                    <a href="https://github.com/stbarillas/hone" class="navbar-item header ">
                        <span>Source Code</span>
                    </a>
                    <a href="http://stevebarillas.com/" class="navbar-item header ">
                        <span>Portfolio</span>
                    </a>
                </div>
            </div>
        </nav>
        <!--Radio Section-->
        <div id="radioContainer">
            <h1>Data Filters</h1>
            <div id="radioButtons" class="control">
                    <label class="radio">
                        <input type="radio" name="answer" checked onclick="renderData(31)">31 Days
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer" onclick="renderData(15)">15 Days
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer" onclick="renderData(7)">7 Days
                    </label>
                    <label class="radio">
                        <input type="radio" name="answer" onclick="renderData(3)">3 Days
                    </label>
            </div>
        </div>
        <!--Using Bulma columns to set column widths between table and graph-->
        <div class="columns">
            <!--Table Column-->
            <div id="tableColumn" class="column is-one-quarter">
                <table id="dataTable" class="centered">
                    <h1>BTC Table</h1>
                    <tr>
                        <th> Date </th>
                        <th> Price (USD)</th>
                    </tr>
                </table>
            </div>
            <!--Chart Column-->
            <div id="chartColumn" class="column">
                <canvas id="dataChart" class="centered"></canvas>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.js"></script>
                <script>
                    function renderChart(data, days){
                        var ctx = document.getElementById('dataChart');
                        var dataChart = new Chart(ctx, {
                            type: 'line',
                            data: {
                                // Slice start calculated dynamically with days parameter
                                labels: Object.keys(data).slice(31-days, 31),
                                datasets: [{
                                    label: '',
                                    data: Object.values(data).slice(31-days,31),
                                    backgroundColor: [
                                        "rgb(59, 136, 252, .2)",
                                    ],
                                    borderColor: [
                                        "rgba(0, 0, 0, 0.3)",
                                    ],
                                    borderWidth: 3,
                                    lineTension: .1,
                                    pointBackgroundColor: "rgb(59, 136, 252)"
                                }]
                            },
                            options: {
                                title: {
                                    display: true,
                                    text: "Historical BTC Graph",
                                    fontSize: 20,
                                },
                                scales: {
                                    yAxes: [{
                                        scaleLabel: {
                                            display: true,
                                            labelString: "Price (USD)",
                                        },
                                        ticks: {
                                            beginAtZero: false
                                        }
                                    }],
                                    xAxes: [{
                                        scaleLabel: {
                                            display: true,
                                            labelString: "Date",
                                        }
                                    }]
                                }
                            }
                        });
                    }
                </script>
            </div>
        </div>
    <script type="text/javascript" src="static/custom.js"></script>
    </body>
</html>
